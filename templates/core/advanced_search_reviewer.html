{% extends 'base.html' %}


{% block css %}
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}theme/global/plugins/select2/select2.css">
    <link rel="stylesheet" href="{{ STATIC_URL }}theme/global/plugins/data-tables/DT_bootstrap.css">
{% endblock %}

{% block extra_css %}
    <link rel ="stylesheet" type="text/css" href="{{ STATIC_URL }}new_theme/global/css/components.min.css">
    <link rel ="stylesheet" type="text/css" href="{{ STATIC_URL }}new_theme/global/css/components-md.min.css">
    <link rel ="stylesheet" type="text/css" href="{{ STATIC_URL }}new_theme/global/css/components-rounded.min.css">


<style>
   .table td, .table th {
    font-size: 14px;
}
   .btn.btn-xs {
    font-size: 14px;
}
.comply_badge {
    background-color: #35aa47;
    margin-left: 10px;
    padding-left: 10px;
    padding-right: 10px;
}
</style>

{% endblock %}

{% block js %}
    <script type="text/javascript" src="{{ STATIC_URL }}theme/global/plugins/select2/select2.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}theme/global/plugins/data-tables/jquery.dataTables.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}theme/global/plugins/data-tables/DT_bootstrap.js"></script>
    <script type="text/javascript"
            src="{{ STATIC_URL }}theme/global/plugins/data-tables/tabletools/js/dataTables.tableTools.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/all_table.js"></script>
    <script src="{{ STATIC_URL }}new_theme/global/plugins/counterup/jquery.waypoints.min.js" type="text/javascript"></script>
    <script src="{{ STATIC_URL }}new_theme/global/plugins/counterup/jquery.counterup.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {



            var clicked = false;
            $('#reviewer_advanced_datatable').dataTable({
                "oLanguage": {
                    "sEmptyTable": "No requests loaded initially, please select filter criteria. "
                }
            });

            $("#reviewer-advanced-filter-button").click(function(){
            if (clicked == false) {
                $("#reviewer_advanced_datatable").dataTable().fnDestroy();
                TableAdvanced.init("reviewer_advanced_datatable", "{% url 'reviewer_advanced_datatable' %}", "{{ STATIC_URL }}theme/global/plugins/data-tables/tabletools/swf/copy_csv_xls_pdf.swf");
                clicked = true;
                $("#reviewer-advanced-filter-button").trigger("click");
            }
         });

         $("#custom-filter-0").keyup(function(event){
                if(event.keyCode === 13){
                    $("#reviewer-advanced-filter-button").trigger("click");
                }
            })

        $("#custom-filter-1").keyup(function(event){
            if(event.keyCode === 13){
                $("#reviewer-advanced-filter-button").trigger("click");
            }
        })

    });
    </script>
{% endblock %}

{% block sidebar %}
    {% include 'core/_reviewer_sidebar.html' %}
{% endblock %}

{% block content %}
{% load spotlit_extras %}
    <div class="page-content-wrapper">
        <div class="page-content">
            <h3 style="padding-top:10px;" class="page-title">Welcome</h3>
                <div class="page-bar">
                    <ul class="page-breadcrumb">
                        <li>
                            <i class="fa fa-home"></i>
                            <a href="{% url 'redirect' %}">Home</a>
                            <i class="fa fa-angle-right"></i>
                        </li>
                        <li>
                            <a href="#">Advanced Search</a>
                        </li>
                    </ul>
                </div>
            <div class="clearfix">
            </div>
            <div class="row">


            <div class="filter col-md-12" style="margin-bottom:50px">
                <div class="panel-group accordion" id="accordion_custom">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a class="accordion-toggle accordion-toggle-styled"
                                   data-toggle="collapse" data-parent="#accordion_custom"
                                   href="#collapse_filter_custom">
                                    Search Criteria </a>
                            </h4>
                        </div>
                        <div id="collapse_filter_custom" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <form class="horizontal-form">
                                    <div class="form-body">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="control-label">Id</label>
                                                    <input id="custom-filter-0" type="text"
                                                           class="fill form-control">
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="control-label">Name</label>
                                                    <input id="custom-filter-1" type="text"
                                                           class="fill form-control">
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label">Request Type</label>
                                                        <select id="custom-filter-2" class="form-control select2me" data-placeholder="Select...">
                                                            <option value=""></option>
                                                             {% for type in request_types %}
                                                                <option value ="{{type.id}}">{{type}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                            </div>

                                            </div>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label">Company</label>
                                                        <select id="custom-filter-3" class="form-control select2me" data-placeholder="Select...">
                                                            <option value=""></option>
                                                            {% for company in companies %}
                                                                <option value="{{ company.id }}">{{ company.name }}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label">Status</label>
                                                        <select id="custom-filter-4" class="form-control select2me" data-placeholder="Select..." multiple="multiple">
                                                            <option value=""></option>
                                                            {% for status in statuses %}
                                                                <option value="{{ status.0 }}">{{ status.1 }}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>

                                              

                                            </div>

                                        <div class="row">
                                            
                                            <div class="col-md-12">
                                                <button type="button" id="reviewer-advanced-filter-button" class="btn btn-primary pull-right" style="margin-right: 10px">
                                                    Search
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

               <div class="col-md-12">
                    <div class="portlet-title">
                    </div>
                        <div class="portlet-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-boardered table-hover dataTable"
                                       id="reviewer_advanced_datatable">
                                    <thead>
                                    <tr>
                                            <th>ID</th>
                                            <th>Name</th>
                                            <th>Status</th>
                                            <th>Date</th>
                                            <th>Created By</th>
                                            <th>Assignment</th>
                                            <th style="width: 10%">Reviewer</th>
                                            <th style="width: 10%">Due Date</th>
                                            
                                    </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>
{% endblock %}